{"version":3,"file":"bundle.js","mappings":"mBACA,ICDMA,EAAaC,OAAOC,SAASC,KAAKC,WAExCC,QAAQC,IAAIN,EAAWI,YAEvB,IAAMG,EAAcC,SAASC,KAAKC,UAC5BC,EAAiBC,mBAAmBL,GAE1CM,MAAM,oDAADC,OAAqDH,GAAkB,CAAEI,OAAQ,SACjFC,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAOF,EAASG,MACpB,IACCJ,MAAK,SAAAK,GACFhB,QAAQC,IAAIe,EAChB,IAAE,OACK,SAAAC,GACHjB,QAAQiB,MAAM,iDAAkDA,EACpE,IAyBJ,IAsCIC,EAtCEC,EAAUhB,SAASiB,cAAc,SAoCnCC,EAAc,GAqCZC,EAAWnB,SAASC,MA6B1Bc,EAAQf,SAASiB,cAAc,QACzBG,GAAK,mBAEX,IAAMC,EAASrB,SAASiB,cAAc,OACtCI,EAAOD,GAAK,SAEZ,IAAME,EAAQtB,SAASiB,cAAc,QACrCK,EAAMpB,UAAY,SAElB,IAAMqB,EAAgBvB,SAASiB,cAAc,OAC7CM,EAAcH,GAAK,iBAEnB,IAAMI,EAAexB,SAASiB,cAAc,QAC5CO,EAAatB,UAAY,KACzBsB,EAAaC,UAAY,OACzBD,EAAaE,QAAU,WACnB,IAAMC,EAAiB3B,SAAS4B,eAAe,mBACzCC,EAAOL,EAAaM,wBAC1BH,EAAeI,MAAMC,IAAM,GAAH1B,OAAMuB,EAAKI,OAAM,MACzCN,EAAeI,MAAMG,KAAO,GAAH5B,OAAMuB,EAAKK,KAAI,MACxCP,EAAeI,MAAMI,QAA2C,SAAjCR,EAAeI,MAAMI,QAAqB,QAAU,MACvF,EAEA,IAAMC,EAAepC,SAASiB,cAAc,QAC5CmB,EAAalC,UAAY,IACzBkC,EAAaX,UAAY,OACzBW,EAAaV,QAAU,WACfX,EAAMsB,UAAUC,SAAS,cACzBvB,EAAMsB,UAAUE,OAAO,aACvBxB,EAAMgB,MAAMS,OAAS,UAErBzB,EAAMsB,UAAUI,IAAI,aACpB1B,EAAMgB,MAAMS,OAAS,OAE7B,EAEA,IAAME,EAAY1C,SAASiB,cAAc,QACzCyB,EAAUxC,UAAY,IACtBwC,EAAUjB,UAAY,OACtBiB,EAAUhB,QAAU,WAAaX,EAAMgB,MAAMI,QAAU,MAAQ,EAE/DZ,EAAcoB,YAAYnB,GAC1BD,EAAcoB,YAAYP,GAC1Bb,EAAcoB,YAAYD,GAE1BrB,EAAOsB,YAAYrB,GACnBD,EAAOsB,YAAYpB,GAEnB,IAAMqB,EAAU5C,SAASiB,cAAc,OACvC2B,EAAQxB,GAAK,UAEb,IAAMyB,EAAY7C,SAASiB,cAAc,MACzC4B,EAAU3C,UAAY,yCAEtB,IAAM4C,EAAe9C,SAASiB,cAAc,KAC5C6B,EAAa5C,UAAY,oBAEzB0C,EAAQD,YAAYE,GACpBD,EAAQD,YAAYG,GAEpB,IAAMC,EAAiB/C,SAASiB,cAAc,OAC9C8B,EAAe3B,GAAK,iBAEpBJ,EAAQgC,KAAO,OACfhC,EAAQiC,YAAc,oBAEtBF,EAAeJ,YAAY3B,GAE3B,IAAMkC,EAAoBlD,SAASiB,cAAc,OACjDiC,EAAkB9B,GAAK,UACvBwB,EAAQD,YAAYO,GAEpB,IAAMC,EAAkBnD,SAASiB,cAAc,OAC/CkC,EAAgB/B,GAAK,kBAErB,IAAMgC,EAAYpD,SAASiB,cAAc,UACzCmC,EAAUlD,UAAY,MACtBkD,EAAU1B,QAAU,WAChB,IAAM2B,EAAYC,YAAYC,OAlLlC,SAA2BC,GACvB,IAAMH,EAAYC,YAAYC,MACxB9C,EAAWT,SAAS4B,eAAe,WAEnC6B,EAAgBzD,SAASiB,cAAc,QAC7CwC,EAAcvD,UAAY,QAAUsD,EACpC/C,EAASkC,YAAYc,GAErB,IAAMC,EAAU1D,SAASiB,cAAc,QACvCyC,EAAQxD,UAAY,qBACpBF,SAAS4B,eAAe,WAAWe,YAAYe,GAG/C1D,SAAS4B,eAAe,WAAW+B,UAAY3D,SAAS4B,eAAe,WAAWgC,aAElFJ,EAAWK,UAAUL,GAErBnD,MAAM,qDAADC,OAAsDkD,GAAY,CAACjD,OAAQ,QAC3EC,MAAK,SAAAC,GAAQ,OAAIA,EAASG,MAAM,IAChCJ,MAAK,SAAAK,GACF,IACMiD,EADUR,YAAYC,MACGF,EAC/BxD,QAAQC,IAAI,4BAADQ,OAA6BwD,EAAY,QAEpDrD,EAASsD,YAAYL,GAErB,IAAMM,EAAWhE,SAASiB,cAAc,QACxC+C,EAAS9D,UAAY,WAAaW,EAAW,KAC7Cb,SAAS4B,eAAe,WAAWe,YAAYqB,GAC/ChD,EAAQiD,MAAQ,GAChBjE,SAAS4B,eAAe,WAAW+B,UAAY3D,SAAS4B,eAAe,WAAWgC,YACtF,GACR,CAmJIM,CAAkBlD,EAAQiD,OAC1B,IACMH,EADUR,YAAYC,MACGF,EAC/BxD,QAAQC,IAAI,4BAADQ,OAA6BwD,EAAY,OACxD,EAEA,IAAMK,EAAenE,SAASiB,cAAc,UAC5CkD,EAAajE,UAAY,eACzBiE,EAAazC,QAAU,WACnB,IAAM2B,EAAYC,YAAYC,OAtJlC,SAA+BC,GAC3B,IAAMH,EAAYC,YAAYC,MACxB9C,EAAWT,SAAS4B,eAAe,WACzCV,EAAcsC,EAEd,IAAMC,EAAgBzD,SAASiB,cAAc,QAC7CwC,EAAcvD,UAAY,QAAUsD,EACpC/C,EAASkC,YAAYc,GAErB,IAAMC,EAAU1D,SAASiB,cAAc,QACvCyC,EAAQxD,UAAY,qBACpBF,SAAS4B,eAAe,WAAWe,YAAYe,GAG/C1D,SAAS4B,eAAe,WAAW+B,UAAY3D,SAAS4B,eAAe,WAAWgC,aAElFvD,MAAM,oDAADC,OAAqDkD,GAAY,CAACjD,OAAQ,QAC1EC,MAAK,SAAAC,GAAQ,OAAIA,EAASG,MAAM,IAChCJ,MAAK,SAAAK,GACF,IACMiD,EADUR,YAAYC,MACGF,EAC/BxD,QAAQC,IAAI,4BAADQ,OAA6BwD,EAAY,QAEpDrD,EAASsD,YAAYL,GAErB,IAAMM,EAAWhE,SAASiB,cAAc,QACxC+C,EAAS9D,UAAY,WAAaW,EAAW,KAC7Cb,SAAS4B,eAAe,WAAWe,YAAYqB,GAC/ChD,EAAQiD,MAAQ,GAChBjE,SAAS4B,eAAe,WAAW+B,UAAY3D,SAAS4B,eAAe,WAAWgC,YACtF,GACR,CAwHIQ,CAAsBpD,EAAQiD,OAC9B,IACMH,EADUR,YAAYC,MACGF,EAC/BxD,QAAQC,IAAI,4BAADQ,OAA6BwD,EAAY,OACxD,EAEAX,EAAgBR,YAAYS,GAC5BD,EAAgBR,YAAYwB,GAE5B,IAAME,EAAYrE,SAASiB,cAAc,OACzCoD,EAAU5C,UAAY,aAEtB,IAAM6C,EAActE,SAASiB,cAAc,UAC3CqD,EAAYpE,UAAY,QACxBoE,EAAY7C,UAAY,eACxB6C,EAAY5C,QArOZ,WACI,IAAMjB,EAAWT,SAAS4B,eAAe,WACnC2C,EAAavE,SAAS4B,eAAe,eAE3CnB,EAAS+D,UAAY,GACjBD,IACAA,EAAWC,UAAY,IAE3BnE,MAAM,wCAAyC,CAAEE,OAAQ,SACpDC,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAOF,EAASG,MACpB,IACCJ,MAAK,SAAAK,GACFhB,QAAQC,IAAIe,EAChB,IAAE,OACK,SAAAC,GACHjB,QAAQiB,MAAM,iDAAkDA,EACpE,GACR,EAkNA,IAAM2D,EAAgBzE,SAASiB,cAAc,UAC7CwD,EAAcvE,UAAY,UAC1BuE,EAAchD,UAAY,iBAC1BgD,EAAc/C,QAAU,WAxIxB,IAAqBgD,IAwI4BxD,EAvItBlB,SAAS4B,eAAe,kBAChCG,MAAMI,QAAU,QAE/B9B,MAAM,gDAADC,OAAiDqE,OAAOD,IAAiB,CAAEnE,OAAQ,QACnFC,MAAK,SAAAC,GAAQ,OAAIA,EAASG,MAAM,IAChCJ,MAAK,SAAAK,GACFhB,QAAQC,IAAIe,EAAW,MACvB,IAAM+D,EAAU/D,EAAW,KACrBgE,EAAc7E,SAAS4B,eAAe,eAC5CiD,EAAYL,UAAY,GAExBI,EAAQE,SAAQ,SAAAC,GACZ,IAAMC,EAAMD,EAAO,GACbE,EAAOjF,SAASiB,cAAc,KACpCgE,EAAKtF,KAAOqF,EACZC,EAAK/E,UAAY8E,EACjBC,EAAKC,OAAS,SAEd,IAAMC,EAAWnF,SAASiB,cAAc,MACxCkE,EAASxC,YAAYsC,GAErBJ,EAAYlC,YAAYwC,EAC5B,GACJ,GAgHuD,EAE/Dd,EAAU1B,YAAY8B,GACtBJ,EAAU1B,YAAY2B,GAEtBvD,EAAM4B,YAAYtB,GAClBN,EAAM4B,YAAYC,GAClB7B,EAAM4B,YAAY0B,GAClBtD,EAAM4B,YAAYI,GAClBhC,EAAM4B,YAAYQ,GAGlB,IAAMiC,EAAiBpF,SAASiB,cAAc,OAC9CmE,EAAehE,GAAK,iBACpBgE,EAAerD,MAAMI,QAAU,OAE/B,IAAMkD,EAAgBrF,SAASiB,cAAc,OAC7CoE,EAAcjE,GAAK,wBAEnB,IAAMkE,EAAetF,SAASiB,cAAc,MAC5CqE,EAAapF,UAAY,UAEzB,IAAMqF,EAAmBvF,SAASiB,cAAc,QAChDsE,EAAiBrF,UAAY,IAC7BqF,EAAiB9D,UAAY,OAC7B8D,EAAiB7D,QAAU,WAAa0D,EAAerD,MAAMI,QAAU,MAAQ,EAE/EkD,EAAc1C,YAAY2C,GAC1BD,EAAc1C,YAAY4C,GAE1B,IAAMV,EAAc7E,SAASiB,cAAc,MAC3C4D,EAAYzD,GAAK,cAEjBgE,EAAezC,YAAY0C,GAC3BD,EAAezC,YAAYkC,GAG3B,IAAMW,EAAkBxF,SAASiB,cAAc,OAC/CuE,EAAgBpE,GAAK,kBAErB,IAAMqE,EAAgBzF,SAASiB,cAAc,SAC7CwE,EAAcvF,UAAY,aAE1B,IAAMwF,EAAkB1F,SAASiB,cAAc,SAsBxC,SAAS0E,EAA0BC,GACtC,IAEIC,EAASC,EAASC,EAAQC,EAAQC,EAAYC,EA2BlD,SAASC,EAAYC,GACjBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,QAAUV,EAAUpG,OAAO+G,QACpCC,EAAOL,EAAEM,QAAUZ,EAAUrG,OAAOkH,QAC1Cf,EAAQ7D,MAAMG,KAAO,GAAH5B,OAAMgG,EAAI,MAC5BV,EAAQ7D,MAAMC,IAAM,GAAH1B,OAAMmG,EAAI,KAC/B,CAEA,SAASG,EAAcR,GACnBA,EAAEC,iBACF,IAAMQ,EAAWZ,GAAcG,EAAEG,QAAUR,GACrCe,EAAYZ,GAAeE,EAAEM,QAAUV,GACzCa,EAAW,MACXjB,EAAQ7D,MAAMgF,MAAQ,GAAHzG,OAAMuG,EAAQ,OAEjCC,EAAY,MACZlB,EAAQ7D,MAAMS,OAAS,GAAHlC,OAAMwG,EAAS,MAE3C,CAEA,SAASE,IACLhH,SAASiH,oBAAoB,YAAad,GAC1CnG,SAASiH,oBAAoB,YAAaL,GAC1C5G,SAASiH,oBAAoB,UAAWD,EAG5C,CAnDApB,EAAQsB,iBAAiB,aAAa,SAASd,GAC3CA,EAAEC,iBAEF,IAAMxE,EAAO+D,EAAQ9D,wBACfqF,EAAcf,EAAEG,QAAU1E,EAAKuF,MAAQ,GACvCC,EAAejB,EAAEM,QAAU7E,EAAKI,OAAS,GAGtB,SAArBmE,EAAElB,OAAOoC,SAA2C,UAArBlB,EAAElB,OAAOoC,UAAwBH,GAAeE,IAE/EtB,EAASK,EAAEG,QACXP,EAASI,EAAEM,QACXT,EAAapE,EAAKkF,MAClBb,EAAcrE,EAAKW,OACnBxC,SAASkH,iBAAiB,YAAaN,IACX,SAArBR,EAAElB,OAAOoC,SAA2C,UAArBlB,EAAElB,OAAOoC,UAE/CzB,EAAUO,EAAEG,QAAU1E,EAAKK,KAC3B4D,EAAUM,EAAEM,QAAU7E,EAAKG,IAC3BhC,SAASkH,iBAAiB,YAAaf,IAG3CnG,SAASkH,iBAAiB,UAAWF,EACzC,GA6BJ,CA9EAtB,EAAgB1C,KAAO,WACvB0C,EAAgB6B,SAAW,WACvBvH,SAASC,KAAKoC,UAAUmF,OAAO,aACnC,EAEA/B,EAAc9C,YAAY+C,GAC1BF,EAAgB7C,YAAY8C,GAE5BtE,EAASwB,YAAY6C,GAGrBxF,SAASkH,iBAAiB,SAAS,SAASO,GACxC,IAAM9F,EAAiB3B,SAAS4B,eAAe,mBACV,UAAjCD,EAAeI,MAAMI,SAAwBR,EAAeW,SAASmF,EAAMvC,SAAY1D,EAAac,SAASmF,EAAMvC,UACnHvD,EAAeI,MAAMI,QAAU,OAEvC,IAEAhB,EAASwB,YAAYyC,GACrBjE,EAASwB,YAAY5B,GA+DrB4E,EADA5E,EAAQf,SAAS4B,eAAe,qBAEhC+D,EAA0BP,E","sources":["webpack://extension-chatbot-fin/webpack/bootstrap","webpack://extension-chatbot-fin/./src/content_archive.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","const currentUrl = window.location.href.toString();\r\n\r\nconsole.log(currentUrl.toString());\r\n\r\nconst textContent = document.body.innerText;\r\nconst encodedContent = encodeURIComponent(textContent);\r\n\r\nfetch(`http://127.0.0.1:8000/input_webtext/?textContent=${encodedContent}`, { method: \"POST\" })\r\n    .then(response => {\r\n        if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n    })\r\n    .then(data => {\r\n        console.log(data);\r\n    })\r\n    .catch(error => {\r\n        console.error('There was a problem with your fetch operation:', error);\r\n    });\r\n\r\nfunction clear() {\r\n    const response = document.getElementById('respons');\r\n    const sourceurls = document.getElementById('source_urls');\r\n\r\n    response.innerHTML = \"\";\r\n    if (sourceurls) {\r\n        sourceurls.innerHTML = \"\";\r\n    }\r\n    fetch(`http://127.0.0.1:8000/clear_messages/`, { method: \"POST\" })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            console.log(data);\r\n        })\r\n        .catch(error => {\r\n            console.error('There was a problem with your fetch operation:', error);\r\n        });\r\n}\r\n\r\nconst textbox = document.createElement(\"input\");\r\n\r\nfunction get_chat_response(question) {\r\n    const startTime = performance.now(); // Start timing\r\n    const response = document.getElementById('respons');\r\n\r\n    const your_question = document.createElement('span');\r\n    your_question.innerText = \"You: \" + question;\r\n    response.appendChild(your_question);\r\n\r\n    const loading = document.createElement('span');\r\n    loading.innerText = \"FinGPT: Loading...\";\r\n    document.getElementById(\"respons\").appendChild(loading);\r\n\r\n    const request = {\"question\": question};\r\n    document.getElementById(\"respons\").scrollTop = document.getElementById(\"respons\").scrollHeight;\r\n\r\n    question = encodeURI(question);\r\n\r\n    fetch(`http://127.0.0.1:8000/get_chat_response/?question=${question}`, {method: \"GET\"})\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            const endTime = performance.now(); // End timing\r\n            const responseTime = endTime - startTime;\r\n            console.log(`Time taken for response: ${responseTime} ms`); // Log the response time\r\n\r\n            response.removeChild(loading);\r\n\r\n            const resptext = document.createElement('span');\r\n            resptext.innerText = \"FinGPT: \" + data[\"resp\"];\r\n            document.getElementById(\"respons\").appendChild(resptext);\r\n            textbox.value = \"\";\r\n            document.getElementById(\"respons\").scrollTop = document.getElementById(\"respons\").scrollHeight;\r\n        });\r\n}\r\n\r\nlet searchQuery = \"\";\r\n\r\nlet popup;\r\n\r\nfunction get_adv_chat_response(question) {\r\n    const startTime = performance.now(); // Start timing\r\n    const response = document.getElementById('respons');\r\n    searchQuery = question;\r\n\r\n    const your_question = document.createElement('span');\r\n    your_question.innerText = \"You: \" + question;\r\n    response.appendChild(your_question);\r\n\r\n    const loading = document.createElement('span');\r\n    loading.innerText = \"FinGPT: Loading...\";\r\n    document.getElementById(\"respons\").appendChild(loading);\r\n\r\n    const request = {\"question\": question};\r\n    document.getElementById(\"respons\").scrollTop = document.getElementById(\"respons\").scrollHeight;\r\n\r\n    fetch(`http://127.0.0.1:8000/get_adv_response/?question=${question}`, {method: \"GET\"})\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            const endTime = performance.now(); // End timing\r\n            const responseTime = endTime - startTime;\r\n            console.log(`Time taken for response: ${responseTime} ms`); // Log the response time\r\n\r\n            response.removeChild(loading);\r\n\r\n            const resptext = document.createElement('span');\r\n            resptext.innerText = \"FinGPT: \" + data[\"resp\"];\r\n            document.getElementById(\"respons\").appendChild(resptext);\r\n            textbox.value = \"\";\r\n            document.getElementById(\"respons\").scrollTop = document.getElementById(\"respons\").scrollHeight;\r\n        });\r\n}\r\n\r\nconst sitebody = document.body;\r\n\r\nfunction get_sources(search_query) {\r\n    const sources_window = document.getElementById('sources_window');\r\n    sources_window.style.display = 'block';\r\n\r\n    fetch(`http://127.0.0.1:8000/get_source_urls/?query=${String(search_query)}`, { method: \"GET\" })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data[\"resp\"]);\r\n            const sources = data[\"resp\"];\r\n            const source_urls = document.getElementById('source_urls');\r\n            source_urls.innerHTML = '';\r\n\r\n            sources.forEach(source => {\r\n                const url = source[0];\r\n                const link = document.createElement('a');\r\n                link.href = url;\r\n                link.innerText = url;\r\n                link.target = \"_blank\";\r\n\r\n                const listItem = document.createElement('li');\r\n                listItem.appendChild(link);\r\n\r\n                source_urls.appendChild(listItem);\r\n            });\r\n        });\r\n}\r\n\r\npopup = document.createElement('div');\r\npopup.id = \"draggableElement\";\r\n\r\nconst header = document.createElement('div');\r\nheader.id = \"header\";\r\n\r\nconst title = document.createElement('span');\r\ntitle.innerText = \"FinGPT\";\r\n\r\nconst iconContainer = document.createElement('div');\r\niconContainer.id = \"icon-container\";\r\n\r\nconst settingsIcon = document.createElement('span');\r\nsettingsIcon.innerText = \"⚙️\";\r\nsettingsIcon.className = \"icon\";\r\nsettingsIcon.onclick = function() {\r\n    const settingsWindow = document.getElementById('settings_window');\r\n    const rect = settingsIcon.getBoundingClientRect();\r\n    settingsWindow.style.top = `${rect.bottom}px`;\r\n    settingsWindow.style.left = `${rect.left}px`;\r\n    settingsWindow.style.display = settingsWindow.style.display === 'none' ? 'block' : 'none';\r\n};\r\n\r\nconst minimizeIcon = document.createElement('span');\r\nminimizeIcon.innerText = \"➖\";\r\nminimizeIcon.className = \"icon\";\r\nminimizeIcon.onclick = function() {\r\n    if (popup.classList.contains('minimized')) {\r\n        popup.classList.remove('minimized');\r\n        popup.style.height = '600px';\r\n    } else {\r\n        popup.classList.add('minimized');\r\n        popup.style.height = '60px';\r\n    }\r\n};\r\n\r\nconst closeIcon = document.createElement('span');\r\ncloseIcon.innerText = \"❌\";\r\ncloseIcon.className = \"icon\";\r\ncloseIcon.onclick = function() { popup.style.display = 'none'; };\r\n\r\niconContainer.appendChild(settingsIcon);\r\niconContainer.appendChild(minimizeIcon);\r\niconContainer.appendChild(closeIcon);\r\n\r\nheader.appendChild(title);\r\nheader.appendChild(iconContainer);\r\n\r\nconst content = document.createElement('div');\r\ncontent.id = \"content\";\r\n\r\nconst titleText = document.createElement('h2');\r\ntitleText.innerText = \"Your personalized financial assistant.\";\r\n\r\nconst subtitleText = document.createElement('p');\r\nsubtitleText.innerText = \"Ask me something!\";\r\n\r\ncontent.appendChild(titleText);\r\ncontent.appendChild(subtitleText);\r\n\r\nconst inputContainer = document.createElement('div');\r\ninputContainer.id = \"inputContainer\";\r\n\r\ntextbox.type = \"text\";\r\ntextbox.placeholder = \"Ask me something!\";\r\n\r\ninputContainer.appendChild(textbox);\r\n\r\nconst responseContainer = document.createElement('div');\r\nresponseContainer.id = \"respons\";\r\ncontent.appendChild(responseContainer);\r\n\r\nconst buttonContainer = document.createElement('div');\r\nbuttonContainer.id = \"buttonContainer\";\r\n\r\nconst askButton = document.createElement('button');\r\naskButton.innerText = \"Ask\";\r\naskButton.onclick = function() {\r\n    const startTime = performance.now(); // Start timing\r\n    get_chat_response(textbox.value);\r\n    const endTime = performance.now(); // End timing\r\n    const responseTime = endTime - startTime;\r\n    console.log(`Time taken for response: ${responseTime} ms`); // Log the response time\r\n};\r\n\r\nconst advAskButton = document.createElement('button');\r\nadvAskButton.innerText = \"Advanced Ask\";\r\nadvAskButton.onclick = function() {\r\n    const startTime = performance.now(); // Start timing\r\n    get_adv_chat_response(textbox.value);\r\n    const endTime = performance.now(); // End timing\r\n    const responseTime = endTime - startTime;\r\n    console.log(`Time taken for response: ${responseTime} ms`); // Log the response time\r\n};\r\n\r\nbuttonContainer.appendChild(askButton);\r\nbuttonContainer.appendChild(advAskButton);\r\n\r\nconst buttonRow = document.createElement('div');\r\nbuttonRow.className = \"button-row\";\r\n\r\nconst clearButton = document.createElement('button');\r\nclearButton.innerText = \"Clear\";\r\nclearButton.className = \"clear-button\";\r\nclearButton.onclick = clear;\r\n\r\nconst sourcesButton = document.createElement('button');\r\nsourcesButton.innerText = \"Sources\";\r\nsourcesButton.className = \"sources-button\";\r\nsourcesButton.onclick = function() { get_sources(searchQuery); };\r\n\r\nbuttonRow.appendChild(sourcesButton);\r\nbuttonRow.appendChild(clearButton);\r\n\r\npopup.appendChild(header);\r\npopup.appendChild(content);\r\npopup.appendChild(buttonRow); // Add button row here\r\npopup.appendChild(inputContainer);\r\npopup.appendChild(buttonContainer);\r\n\r\n// Sources Window\r\nconst sources_window = document.createElement('div');\r\nsources_window.id = \"sources_window\";\r\nsources_window.style.display = 'none';\r\n\r\nconst sourcesHeader = document.createElement('div');\r\nsourcesHeader.id = \"sources_window_header\";\r\n\r\nconst sourcesTitle = document.createElement('h2');\r\nsourcesTitle.innerText = \"Sources\";\r\n\r\nconst sourcesCloseIcon = document.createElement('span');\r\nsourcesCloseIcon.innerText = \"❌\";\r\nsourcesCloseIcon.className = \"icon\";\r\nsourcesCloseIcon.onclick = function() { sources_window.style.display = 'none'; };\r\n\r\nsourcesHeader.appendChild(sourcesTitle);\r\nsourcesHeader.appendChild(sourcesCloseIcon);\r\n\r\nconst source_urls = document.createElement('ul');\r\nsource_urls.id = \"source_urls\";\r\n\r\nsources_window.appendChild(sourcesHeader);\r\nsources_window.appendChild(source_urls);\r\n\r\n// Settings Windows\r\nconst settings_window = document.createElement('div');\r\nsettings_window.id = \"settings_window\";\r\n\r\nconst settingsLabel = document.createElement('label');\r\nsettingsLabel.innerText = \"Light Mode\";\r\n\r\nconst lightModeSwitch = document.createElement('input');\r\nlightModeSwitch.type = \"checkbox\";\r\nlightModeSwitch.onchange = function() {\r\n    document.body.classList.toggle('light-mode');\r\n};\r\n\r\nsettingsLabel.appendChild(lightModeSwitch);\r\nsettings_window.appendChild(settingsLabel);\r\n\r\nsitebody.appendChild(settings_window);\r\n\r\n// Close settings popup when clicks outside\r\ndocument.addEventListener('click', function(event) {\r\n    const settingsWindow = document.getElementById('settings_window');\r\n    if (settingsWindow.style.display === 'block' && !settingsWindow.contains(event.target) && !settingsIcon.contains(event.target)) {\r\n        settingsWindow.style.display = 'none';\r\n    }\r\n});\r\n\r\nsitebody.appendChild(sources_window);\r\nsitebody.appendChild(popup);\r\n\r\nexport function makeDraggableAndResizable(element) {\r\n    let isDragging = false;\r\n    let isResizing = false;\r\n    let offsetX, offsetY, startX, startY, startWidth, startHeight;\r\n\r\n    element.addEventListener('mousedown', function(e) {\r\n        e.preventDefault();\r\n\r\n        const rect = element.getBoundingClientRect();\r\n        const isRightEdge = e.clientX > rect.right - 10;\r\n        const isBottomEdge = e.clientY > rect.bottom - 10;\r\n\r\n        // Check if the click is not on a text or input element\r\n        if (e.target.tagName !== 'SPAN' && e.target.tagName !== 'INPUT' && (isRightEdge || isBottomEdge)) {\r\n            isResizing = true;\r\n            startX = e.clientX;\r\n            startY = e.clientY;\r\n            startWidth = rect.width;\r\n            startHeight = rect.height;\r\n            document.addEventListener('mousemove', resizeElement);\r\n        } else if (e.target.tagName !== 'SPAN' && e.target.tagName !== 'INPUT') {\r\n            isDragging = true;\r\n            offsetX = e.clientX - rect.left;\r\n            offsetY = e.clientY - rect.top;\r\n            document.addEventListener('mousemove', dragElement);\r\n        }\r\n\r\n        document.addEventListener('mouseup', closeDragOrResizeElement);\r\n    });\r\n\r\n    function dragElement(e) {\r\n        e.preventDefault();\r\n        const newX = e.clientX - offsetX + window.scrollX;\r\n        const newY = e.clientY - offsetY + window.scrollY;\r\n        element.style.left = `${newX}px`;\r\n        element.style.top = `${newY}px`;\r\n    }\r\n\r\n    function resizeElement(e) {\r\n        e.preventDefault();\r\n        const newWidth = startWidth + (e.clientX - startX);\r\n        const newHeight = startHeight + (e.clientY - startY);\r\n        if (newWidth > 250) {\r\n            element.style.width = `${newWidth}px`;\r\n        }\r\n        if (newHeight > 300) {\r\n            element.style.height = `${newHeight}px`;\r\n        }\r\n    }\r\n\r\n    function closeDragOrResizeElement() {\r\n        document.removeEventListener('mousemove', dragElement);\r\n        document.removeEventListener('mousemove', resizeElement);\r\n        document.removeEventListener('mouseup', closeDragOrResizeElement);\r\n        isDragging = false;\r\n        isResizing = false;\r\n    }\r\n}\r\n\r\n\r\npopup = document.getElementById(\"draggableElement\");\r\nmakeDraggableAndResizable(popup);\r\nmakeDraggableAndResizable(sources_window);\r\n\r\nfunction respond() {\r\n    const question = textbox.value;\r\n    const response = document.getElementById('respons');\r\n    response.innerText = \"You asked: \" + question;\r\n}\r\n\r\n"],"names":["currentUrl","window","location","href","toString","console","log","textContent","document","body","innerText","encodedContent","encodeURIComponent","fetch","concat","method","then","response","ok","Error","json","data","error","popup","textbox","createElement","searchQuery","sitebody","id","header","title","iconContainer","settingsIcon","className","onclick","settingsWindow","getElementById","rect","getBoundingClientRect","style","top","bottom","left","display","minimizeIcon","classList","contains","remove","height","add","closeIcon","appendChild","content","titleText","subtitleText","inputContainer","type","placeholder","responseContainer","buttonContainer","askButton","startTime","performance","now","question","your_question","loading","scrollTop","scrollHeight","encodeURI","responseTime","removeChild","resptext","value","get_chat_response","advAskButton","get_adv_chat_response","buttonRow","clearButton","sourceurls","innerHTML","sourcesButton","search_query","String","sources","source_urls","forEach","source","url","link","target","listItem","sources_window","sourcesHeader","sourcesTitle","sourcesCloseIcon","settings_window","settingsLabel","lightModeSwitch","makeDraggableAndResizable","element","offsetX","offsetY","startX","startY","startWidth","startHeight","dragElement","e","preventDefault","newX","clientX","scrollX","newY","clientY","scrollY","resizeElement","newWidth","newHeight","width","closeDragOrResizeElement","removeEventListener","addEventListener","isRightEdge","right","isBottomEdge","tagName","onchange","toggle","event"],"sourceRoot":""}